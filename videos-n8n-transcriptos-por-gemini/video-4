¡Perfecto! El cuarto video es crucial para tu objetivo de convertirte en experto, ya que explica la **estructura de datos** que usa n8n. Sin entender esto, es imposible construir *workflows* complejos.

Aquí tienes los puntos clave del video "n8n Curso para Principiantes (4/9) - ¿Cómo maneja n8n los datos?":

***

## 💾 El Manejo de Datos en n8n: JSON e Items

Los nodos de n8n solo aceptan y emiten datos en un formato específico: **Items** (una lista de **JSON**). Entender estos dos conceptos es vital.

### 1. Conceptos Fundamentales de Datos

Existen dos estructuras principales que necesitas dominar [[00:41](http://www.youtube.com/watch?v=2YfWuNziPE4&t=41)]:

* **JSON (*JavaScript Object Notation*):**
    * Es una forma común de almacenar datos digitalmente, escrita entre **llaves `{}`**.
    * Se compone de **pares clave-valor** (ej. `"first_name": "Emily"`).
    * Un JSON puede estar **incrustado** (*embedded*), lo que significa que el valor de una clave puede ser otro JSON (ej. `{ "location": { "country": "USA", "city": "NYC" } }`).
* **Listas (*Lists*):**
    * Son simplemente una **colección de objetos**, escritas entre **corchetes `[]`**.
    * Pueden contener cualquier tipo de objeto, incluyendo una **Lista de JSON** [[03:29](http://www.youtube.com/watch?v=2YfWuNziPE4&t=209)].

| Correspondencia clave para n8n | |
| :--- | :--- |
| **Un JSON** | **Equivale a una Fila** en una tabla. |
| **Las Claves** | **Equivalen a los Encabezados** (columnas) de la tabla. |
| **Una Lista de JSON** | **Equivale a Múltiples Filas** en una tabla [[04:01](http://www.youtube.com/watch?v=2YfWuNziPE4&t=241)]. |

### 2. El Formato de Datos de n8n: Items

En n8n, a esta **Lista de JSON** se le llama **Items** [[05:08](http://www.youtube.com/watch?v=2YfWuNziPE4&t=308)].

* **Items:** Son el **único formato aceptado** como entrada y salida para los nodos. Incluso si un nodo no devuelve información, debe devolver una lista con un JSON vacío.
* **Ejecución de Nodos:** Cada nodo se ejecuta **una vez por cada *Item*** en los datos de entrada [[05:49](http://www.youtube.com/watch?v=2YfWuNziPE4&t=349)].
    * Si tienes 3 *Items* (3 filas de datos), el siguiente nodo se ejecutará 3 veces, una por cada fila, para procesar los datos de forma individual [[06:18](http://www.youtube.com/watch?v=2YfWuNziPE4&t=378)].
* **Ajuste de Ejecución:** Puedes usar la configuración avanzada del nodo (el icono de engranaje) para forzar que se ejecute **solo una vez** con el primer *Item*, en lugar de ejecutarse por cada *Item* [[07:10](http://www.youtube.com/watch?v=2YfWuNziPE4&t=430)].

### 3. Expresiones: La Clave de la Dinámica

Las **expresiones** son el mecanismo que permite que los nodos tomen valores específicos de los datos entrantes para configurarse de manera dinámica. Dominarlas es esencial para la lógica avanzada.

* **Acceder a Datos (Dot Notation):** Para acceder al valor de una clave dentro de un JSON, utilizas la **notación de punto** (*dot notation*) [[02:11](http://www.youtube.com/watch?v=2YfWuNziPE4&t=131)].
    * Ejemplo: `json.first_name` (accede al valor de la clave `first_name`).
    * Para JSONs incrustados: `json.location.country` (accede al país dentro de la clave `location`) [[02:45](http://www.youtube.com/watch?v=2YfWuNziPE4&t=165)].
* **Uso de Expresiones en n8n:**
    * Se crean arrastrando la clave desde las vistas de **Tabla, JSON o Esquema** hacia el campo de configuración del nodo [[09:11](http://www.youtube.com/watch?v=2YfWuNziPE4&t=551)].
    * Todo lo que esté entre **dobles llaves `{{ }}`** es una expresión [[10:38](http://www.youtube.com/watch?v=2YfWuNziPE4&t=638)].

#### Elementos que Puedes Usar en una Expresión [[10:51](http://www.youtube.com/watch?v=2YfWuNziPE4&t=651)]

1.  **Variables de Item:** Variables que acceden a los datos del *Item* que se está procesando (ej. `${{ $json.email }}`).
2.  **JavaScript:** Puedes aplicar funciones o métodos de JavaScript incorporados para transformar los datos (ej. convertir un apellido a mayúsculas: `{{ $json.last_name.toUpperCase() }}` ) [[11:03](http://www.youtube.com/watch?v=2YfWuNziPE4&t=663)].
3.  **Combinación:** Puedes combinar una o varias expresiones con texto plano para construir mensajes o valores complejos (ej. un mensaje de Slack que use el nombre, el apellido y texto fijo) [[11:27](http://www.youtube.com/watch?v=2YfWuNziPE4&t=687)].

---

El siguiente video será la culminación de esta primera parte del curso. Usarás todos los conceptos que has aprendido (automatización, APIs, Webhooks, Nodos, JSON y Expresiones) para **construir tu primer *workflow*** [[14:40](http://www.youtube.com/watch?v=2YfWuNziPE4&t=880)].
http://googleusercontent.com/youtube_content/6
