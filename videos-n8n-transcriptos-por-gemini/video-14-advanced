隆Has llegado al quinto video del **Curso Avanzado de n8n**!  Este m贸dulo se centra en la t茅cnica m谩s avanzada para asegurar que tus automatizaciones est茅n bajo control: la creaci贸n de un **Flujo de Trabajo de Errores** (*Error Workflow*) personalizado.

Aqu铆 tienes un resumen detallado de **"n8n Curso Avanzado (5/8) - Flujos de trabajo de errores"**:

***

## 1. El Disparador de Errores (Error Trigger)

El nodo **Error Trigger** (*Disparador de Error*) es el punto de inicio de tu *Error Workflow*. Este nodo se activa **autom谩ticamente** cada vez que cualquier *workflow* en tu instancia de n8n falla [[00:18](http://www.youtube.com/watch?v=77Ewdaby47M&t=18)].

* **Datos que proporciona:** Devuelve informaci贸n vital sobre el fallo, incluyendo:
    * El **ID** del *workflow* que fall贸.
    * El **nodo** que caus贸 el error.
    * La **raz贸n** o tipo de error.
    * Un **enlace directo** a la ejecuci贸n fallida en el historial [[00:27](http://www.youtube.com/watch?v=77Ewdaby47M&t=27)].

### Creaci贸n de un Mensaje de Error Est谩ndar

Utilizando los datos del `Error Trigger`, puedes construir un mensaje estandarizado y 煤til (ej. en un nodo `Edit Fields`) que contenga [[00:43](http://www.youtube.com/watch?v=77Ewdaby47M&t=43)]:

* El nombre del *workflow* que fall贸.
* El ID de la ejecuci贸n.
* El tipo de error.
* El enlace a la ejecuci贸n fallida.

### Priorizaci贸n de Errores [[01:08](http://www.youtube.com/watch?v=77Ewdaby47M&t=68)]

Puedes usar la informaci贸n del error para asignar una **puntuaci贸n de urgencia** o **prioridad**:

* **Prioridad Baja:** Errores como `500` (Error de Servidor) a menudo significan que el servicio externo est谩 ca铆do, y es probable que se resuelva solo, por lo que no requieren acci贸n inmediata.
* **Prioridad Alta:** Errores como `400` (Error de Solicitud Inv谩lida) o l贸gica fallida, que indican un problema con la configuraci贸n del *workflow* que no se resolver谩 sin intervenci贸n.

***

## 2. Ejemplo de Workflow de Errores Avanzado (Notificaci贸n al Propietario)

El objetivo de un *Error Workflow* avanzado es notificar a la **persona correcta** (el propietario del *workflow*) de inmediato, en lugar de a un equipo gen茅rico.

Este *workflow* se construye con la siguiente l贸gica [[02:18](http://www.youtube.com/watch?v=77Ewdaby47M&t=138)]:

### Paso 1: Obtener Informaci贸n del Workflow [[03:15](http://www.youtube.com/watch?v=77Ewdaby47M&t=195)]

1.  **Nodo n8n:** Utiliza el nodo **n8n** (con la operaci贸n **`Get Workflow`**) para obtener **metadatos** adicionales sobre el *workflow* que fall贸, usando el ID proporcionado por el `Error Trigger`.
2.  **Etiquetas (*Tags*):** Si has etiquetado tus *workflows* con una clave como `owner:Maxim` [[01:51](http://www.youtube.com/watch?v=77Ewdaby47M&t=111)], esta informaci贸n se recupera.

### Paso 2: Extraer y Unir Datos [[03:55](http://www.youtube.com/watch?v=77Ewdaby47M&t=235)]

1.  **Nodo Edit Fields:** Se utiliza para **extraer** el nombre del propietario de la etiqueta y colocarlo en el nivel superior de los datos (ej. campo `workflowOwner: Maxim`) para que sea f谩cil de acceder.
2.  **Nodo Merge (Append):** Se unen los datos del `Error Trigger` (el fallo) con los datos del **Nodo n8n** (el propietario) para tener toda la informaci贸n en un solo lugar [[04:32](http://www.youtube.com/watch?v=77Ewdaby47M&t=272)].

### Paso 3: Enriquecer con Informaci贸n de Contacto (Lookup) [[05:19](http://www.youtube.com/watch?v=77Ewdaby47M&t=319)]

1.  **Fuente de Contacto:** Se utiliza una fuente de datos (ej. un nodo **Code** con una lista de JSON, un Google Sheet, o una base de datos) que mapea el nombre del propietario (`Maxim`) con su **informaci贸n de contacto** (ej. `maxim@empresa.com`).
2.  **Nodo Merge (Combine):** Se utiliza la opci贸n **`Combine by Fields`** para hacer la coincidencia (JOIN):
    * **Input 1:** Los datos del error.
    * **Input 2:** La lista de contactos.
    * **Clave de Coincidencia:** Se empareja el campo `name` (de la lista de contactos) con el campo `workflowOwner` (de los datos del error) [[05:50](http://www.youtube.com/watch?v=77Ewdaby47M&t=350)].
3.  **Resultado:** Los datos del error ahora est谩n enriquecidos con el **email** del propietario.

### Paso 4: Notificaci贸n y Acci贸n [[06:23](http://www.youtube.com/watch?v=77Ewdaby47M&t=383)]

Finalmente, el flujo utiliza la informaci贸n de contacto enriquecida para tomar una acci贸n espec铆fica:

* **Env铆o de Correo:** Se usa el nodo **Email** para enviar el mensaje de error estandarizado (`errorMessage`) al correo electr贸nico del propietario [[06:27](http://www.youtube.com/watch?v=77Ewdaby47M&t=387)].
* **Gesti贸n Personalizada:** Se puede llevar esto al siguiente nivel: cada propietario podr铆a tener su propio *Error Workflow* (ejecutado mediante un **Execute Workflow**) que contenga su l贸gica de gesti贸n preferida (ej. un propietario recibe notificaciones por Slack y otro por Email) [[07:00](http://www.youtube.com/watch?v=77Ewdaby47M&t=420)].

***

El pr贸ximo video te introducir谩 a los **Modos de Ejecuci贸n** avanzados, permiti茅ndote controlar c贸mo n8n gestiona m煤ltiples *Items* y la concurrencia [[07:44](http://www.youtube.com/watch?v=77Ewdaby47M&t=464)].
http://googleusercontent.com/youtube_content/26
