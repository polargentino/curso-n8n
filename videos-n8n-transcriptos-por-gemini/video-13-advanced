¬°Excelente! Con este video, has aprendido sobre los **Sub-workflows** (Sub-flujos de trabajo), una t√©cnica avanzada esencial para hacer que tus automatizaciones sean modulares, reutilizables y f√°ciles de mantener.

Aqu√≠ tienes un resumen detallado de **"n8n Curso Avanzado (4/8) - Sub-workflows"**:

***

## üß© ¬øQu√© es un Sub-workflow?

Un **Sub-workflow** es una automatizaci√≥n separada que es llamada y ejecutada desde otro *workflow* principal. Esto se logra usando el nodo **Execute Workflow** (Ejecutar Flujo de Trabajo) [[00:23](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=23)].

### 1. Nodos Clave

* **Execute Workflow:** Es el nodo en el *workflow* **principal** que inicia la ejecuci√≥n del Sub-workflow, envi√°ndole datos de entrada [[00:54](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=54)].
* **When Called by Another Workflow (Trigger):** Es el *trigger* (disparador) que debe tener el **Sub-workflow** para recibir los datos del *workflow* principal [[00:58](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=58)].

### 2. Flujo de Datos

1.  Los *Items* de salida de un nodo en el *workflow* principal se env√≠an como **datos de entrada** al nodo **Execute Workflow** [[01:22](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=82)].
2.  El *trigger* **"When Called by Another Workflow"** del Sub-workflow recibe y procesa esos *Items* [[01:31](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=91)].
3.  El Sub-workflow ejecuta su l√≥gica nodo por nodo, *Item* por *Item* [[01:05](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=65)].
4.  Los *Items* que salen del **√∫ltimo nodo** del Sub-workflow son devueltos como **datos de salida** al nodo **Execute Workflow** en el *workflow* principal [[01:35](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=95)].
5.  El *workflow* principal contin√∫a su ejecuci√≥n a partir de ese punto [[01:42](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=102)].

***

## üîÅ Beneficios Clave (Reusabilidad y Escalabilidad)

El uso de Sub-workflows es crucial para el desarrollo profesional en n8n:

* **Abstracci√≥n y Reusabilidad:** Permite extraer una tarea compleja y com√∫n (ej. buscar un usuario en una base de datos o enriquecer datos de contacto) y convertirla en una **funci√≥n modular** [[02:16](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=136)].
    * Cualquier otro *workflow* puede llamar a esa funci√≥n con el nodo **Execute Workflow**, ahorrando tiempo en la construcci√≥n [[02:22](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=142)].
* **Mantenimiento Centralizado:** Si necesitas actualizar el proceso de b√∫squeda de usuario (ej. cambias de Google Sheets a PostgreSQL), solo tienes que actualizar el **Sub-workflow** en un solo lugar [[02:33](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=153)]. Todos los *workflows* que lo llaman utilizar√°n la versi√≥n actualizada autom√°ticamente, reduciendo el riesgo de errores.
* **Claridad del Workflow:** Los *workflows* principales se vuelven m√°s limpios y f√°ciles de entender, ya que la l√≥gica compleja se oculta dentro de la caja del **Execute Workflow** [[04:49](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=289)].

***

## ‚ö†Ô∏è Consejos Importantes para Sub-workflows

Para evitar fallos de ejecuci√≥n, es fundamental estandarizar c√≥mo se gestionan los datos:

* **Estandarizar Formatos:** Aseg√∫rate de que tanto el *workflow* principal como el Sub-workflow utilizan las **mismas claves** y el mismo formato (ej. may√∫sculas/min√∫sculas) para los datos que se pasan [[02:50](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=170)]. Si el Sub-workflow espera `email` en min√∫sculas y el principal env√≠a `Email` con may√∫scula, la l√≥gica fallar√°.
* **Comprender la Salida:** Ten claro qu√© *Items* est√°n saliendo del **√∫ltimo nodo** del Sub-workflow, ya que son los que recibe el *workflow* principal [[03:33](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=213)].
* **A√±adir Documentaci√≥n:** En el Sub-workflow, usa un nodo **Note** (Nota) para indicar claramente qu√© campos se esperan en el nivel superior de los datos (ej. "Por favor, proporcione los campos `ID` y `email` en el nivel superior de JSON") [[06:58](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=418)].

El pr√≥ximo video te guiar√° a trav√©s de la creaci√≥n de un **Advanced Error Workflow** (Flujo de Trabajo de Error Avanzado) para manejar fallos de producci√≥n de manera robusta [[07:26](http://www.youtube.com/watch?v=xr05Ie_Hkyg&t=446)].
http://googleusercontent.com/youtube_content/24
